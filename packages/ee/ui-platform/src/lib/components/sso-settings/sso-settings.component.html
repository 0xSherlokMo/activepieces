<div class="ap-h-full ap-pt-2 ap-flex ap-flex-col">
    <div class="ap-mb-4 ap-w-full">
        <form [formGroup]="ssoSettingsForm"
            class="ap-flex ap-w-full  ap-max-w-[327px] ap-w-full ap-flex-col  ap-gap-4 ap-mb-10">


            <mat-checkbox color="primary" [formControl]="ssoSettingsForm.controls.enforceAllowedAuthDomains"
                matTooltip="Only emails ending with specific domains can sign up" i18n-matTooltip>Enforce sign up
                email domains</mat-checkbox>
            <div>
                <div class="ap-mb-2 ap-pointer-events-none" i18n>Domains</div>
                <ap-array-form-control placeholder="your-domain.com"
                    [matTooltip]="ssoSettingsForm.controls.allowedAuthDomains.disabled? 'Enforce email domains first': ''"
                    [formControl]="ssoSettingsForm.controls.allowedAuthDomains"></ap-array-form-control>
                <ng-container
                    *ngIf="ssoSettingsForm.controls.allowedAuthDomains.invalid && ssoSettingsForm.controls.allowedAuthDomains.touched">
                    <div class="ap-typography-caption ap-text-danger" @fadeInUp>
                        Must fill at least one domain
                    </div>
                </ng-container>
            </div>


        </form>
        <div>
            <div
                class="ap-px-4 ap-pt-4  ap-flex ap-justify-end ap-items-center ap-gap-4 ap-w-full ap-border-t ap-border-solid ap-border-outline">
                <ap-button btnStyle="flat" btnColor="primary" (buttonClicked)="save()"
                    [loading]="(loading$ | async) || false">
                    <div i18n>
                        Save
                    </div>
                </ap-button>
            </div>
        </div>
    </div>
</div>
<ng-container *ngIf="saving$ | async"></ng-container>
<ng-container *ngIf="toggleAuthDomainsArray$ | async"></ng-container>